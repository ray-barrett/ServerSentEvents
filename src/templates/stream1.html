<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title>Stream Test with Table</title>

    <script>
        function connect_to_stream() {
            var targetContainer = document.getElementById("target_div");
            var eventSource = new EventSource("/stream")
            eventSource.onmessage = function handleStream(e) {
                console.log(e);
                targetContainer.innerHTML = "Received streamed Value: " + e.data;
            };
        };
    </script>
</head>

<body>
    {% extends "template.html" %}
    {% block content %}


    <div id="target_div">Watch this space...</div>
    <div id="connect_button">
        <button type="button" onclick="connect_to_stream()">Click For Magic</button>
    </div>

    {% endblock %}
</body>

</html>
